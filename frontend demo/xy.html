<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>
<body>

<!-- ====== HTML (inside your BMI section) ====== -->
<div class="immg">
  <!-- Keep your gauge here; this just decorates the background -->
  <div class="immg-content">
    <!-- your gauge / cards / text -->
  </div>
</div>

<style>
/* Base container */
.immg{
  position: relative;
  overflow: hidden;
  border-radius: 18px;
  --hue: 140;            /* will change with BMI via JS */
  --sat: 80%;
  --light: 55%;
  --glow: .16;           /* base opacity for blobs */
  isolation: isolate;    /* keep blend effects contained */
}

/* Subtle curved gradient “auras” behind content */
.immg::before{
  content:"";
  position:absolute; inset:-15%;
  background:
    radial-gradient(60% 80% at 20% 110%,
      hsl(calc(var(--hue)-20) var(--sat) 50% / calc(var(--glow)+.06)) 0 55%,
      transparent 60%),
    radial-gradient(65% 85% at 90% 10%,
      hsl(calc(var(--hue)+35) var(--sat) 55% / calc(var(--glow)+.04)) 0 50%,
      transparent 55%),
    conic-gradient(from -120deg at 50% 110%,
      hsl(calc(var(--hue)-40) var(--sat) 58% / .10) 0 35%,
      transparent 35% 60%,
      hsl(var(--hue) var(--sat) 58% / .10) 60% 80%,
      transparent 80% 100%);
  filter: blur(14px);
  transform: scale(1.03);
  transition: transform .6s ease, filter .6s ease, opacity .6s ease;
  z-index: 0;
}

/* Abstract “wave shelf” at the bottom (soft, floating) */
.immg::after{
  content:"";
  position:absolute; left:-20%; right:-20%; bottom:-60px; height:220px;
  background:
    radial-gradient(140px 70px at 12% 52%,
      hsl(var(--hue) var(--sat) 60% / .45) 0 80%, transparent 85%),
    radial-gradient(180px 90px at 42% 62%,
      hsl(calc(var(--hue)+28) var(--sat) 58% / .40) 0 80%, transparent 85%),
    radial-gradient(220px 100px at 78% 55%,
      hsl(calc(var(--hue)-28) var(--sat) 56% / .38) 0 80%, transparent 86%);
  filter: blur(24px);
  opacity:.85;
  animation: waveShift 12s ease-in-out infinite;
  z-index: 0;
}

/* Your actual content sits above the decor */
.immg .immg-content{ position:relative; z-index: 1; }

/* Hover micro-interaction */
.immg:hover::before{ transform: scale(1.06) rotate(.7deg); filter: blur(16px); }

/* Pulse class (use on BMI calc) */
.immg.pulse::before{ transform: scale(1.08) rotate(1deg); filter: blur(18px); }
.immg.pulse::after{ animation-duration: 8s; }

/* Gentle up/down wave shift */
@keyframes waveShift{
  0%,100%{ transform: translateY(0) }
  50%{ transform: translateY(-10px) }
}

/* Respect reduced motion */
@media (prefers-reduced-motion: reduce){
  .immg::after{ animation: none }
  .immg, .immg::before{ transition: none }
}
</style>

<script>
/* Call this from your BMI calculation to recolor and pulse the background */
function updateBmiBg(bmi){
  const box = document.querySelector('.immg');
  if(!box) return;

  // Map BMI to hues: Underweight(blue) → Normal(green) → Overweight(yellow) → Obese(red)
  let hue;
  if (bmi < 18.5) hue = 210;         // blue
  else if (bmi < 25) hue = 140;      // green
  else if (bmi < 30) hue = 50;       // yellow
  else hue = 8;                      // red

  box.style.setProperty('--hue', hue);

  // small pulse animation
  box.classList.add('pulse');
  clearTimeout(box._pulseTimeout);
  box._pulseTimeout = setTimeout(()=> box.classList.remove('pulse'), 700);
}

/* Optional: demo hook — remove if you already compute BMI elsewhere */
window.demoWave = function(){
  const bmi = +(Math.random()*20 + 15).toFixed(1); // 15–35
  updateBmiBg(bmi);
};
</script>
</body>
</html>